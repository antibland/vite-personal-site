---
title: "Next.js Active Nav with Only CSS"
date: "2024-12-28"
description: "Did you know that modern CSS alone can be used to create an active nav item in Next.js?"
author: "Andy Hoffman"
readingTime: 4
tags: ["css", "web-dev", "tutorials"]
category: "Development"
featured: true
draft: false
---

Anyone who has worked on a web application with a navigation section has probably encountered a time where they've wanted to highlight the current page/tab/nav item.

![A curious cat exploring new technology - just like you're about to explore React](https://placecats.com/neo/800/450?fit=cover&position=top)

This happened to me while using Next.js and, according to their developer advocate, [the recommended solution](https://x.com/asidorenko_/status/1812855952380457259) is to create a client component and add the following code:

```tsx
"use client";
const pathname = usePathname();

<Link
  href={pathname}
  className={clsx("nav-item", {
    "nav-item-active": pathname === href,
  })}
>
  {children}
</Link>;
```

It seems pretty straightforward, but it's not without a major drawback. Next is forcing us to use client-side navigation. This means that the active nav item is not active until the page is loaded and all client javascript is executed. The need for a client-side hook just to decorate an active nav item seems like the framework is asking too much of developers. For someone like me who has really adopted server-side rendering, the CSS part of my brain lit up and I realized that this could be done without any client-side JavaScript or the need to create yet another component.

## Enter `:has()`

> The functional :has() CSS pseudo-class represents an element if any of the relative selectors that are passed as an argument match at least one element when anchored against this element. This pseudo-class presents a way of selecting a parent element or a previous sibling element with respect to a reference element by taking a relative selector list as an argument.

My mental model of `:has()` is somewhat crude but more concise.

> Establish a parent. Find a selector/condition within the parent's children and go back "up" to the parent.

![A curious cat exploring new technology - just like you're about to explore React](https://placecats.com/neo/800/450?fit=cover&position=top)
_Ready to explore the modern React ecosystem in 2024_

## Prerequisites

- Node.js and npm/pnpm
- Basic JavaScript knowledge
- A code editor

## Setting Up Your First Project

Using Vite is now the recommended way to start a new React project. Here's how:

```bash
pnpm create vite my-react-app --template react-ts
cd my-react-app
pnpm install
pnpm dev
```

Once your project is set up, you can explore some excellent resources to deepen your understanding. The [official React documentation](https://react.dev) has been completely revamped for 2024 and provides an interactive learning experience. For hands-on practice, check out the [React TypeScript Playground](https://www.typescriptlang.org/play?jsx=2&esModuleInterop=true&e=196#example/typescript-with-react) where you can experiment with code without any setup.

Looking for real-world examples? The [React TypeScript Cheatsheet](https://react-typescript-cheatsheet.netlify.app/) is an invaluable resource for TypeScript users, and [CodeSandbox's React templates](https://codesandbox.io/s/new) provide a variety of starter projects you can fork and modify. You might also want to explore [Vite's official examples repository](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) to understand the project structure better.

![A focused cat demonstrating the concentration needed for React development](https://placecats.com/bella/800/500?fit=cover&position=center)
_Understanding the React component lifecycle requires focus and patience_

> **Pro tip:** Using TypeScript from the start will save you hours of debugging and provide better tooling support.

## Key Concepts

1. Components - The building blocks of React applications
2. Props - How components communicate
3. State Management - Handling data flow
4. Hooks - Function-based state and lifecycle features

Here's a simple example of a React component:

```tsx
import { useState } from "react";

function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
}

export default Counter;
```

> **Note:** Modern React encourages the use of functional components and hooks over class components.

Stay tuned for more detailed explanations of each concept!
